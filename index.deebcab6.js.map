{"mappings":"AAAA,MAAMA,EAASC,SAASC,cAAc,iBAChCC,EAASF,SAASC,cAAc,WAChCE,EAAMH,SAASC,cAAc,UAE5B,IAAIG,EAAe,GCA1B,MAAMC,EAASL,SAASC,cAAc,iBAChCK,EAASN,SAASC,cAAc,WAChCM,EAAMP,SAASC,cAAc,UAEnCK,EAAOE,MAAMC,QAAU,OACvBF,EAAIC,MAAMC,QAAU,ODIhBP,EAAOM,MAAMC,QAAU,OACjBC,MAHI,sCAGM,CAACC,QAAS,CACrB,YAHW,2EAMhBC,MAAMC,IACJ,IAAKA,EAASC,GACX,MAAM,IAAIC,MAAMF,EAASG,YAG5B,OADAd,EAAOM,MAAMC,QAAU,OAChBI,EAASI,MAAM,IAExBL,MAAMM,IACJA,EAAOA,EAAKC,QAAOC,I,IAAMC,EAAA,OAAgB,OAAP,QAATA,EAAAD,EAAIE,aAAK,IAATD,OAAA,EAAAA,EAAWE,IAAS,IAE7CnB,EAAec,EAEf,IAAK,IAAIM,EAAI,EAAGA,EAAIpB,EAAaqB,OAAQD,IAAK,CAC9C,MAAME,EAAQtB,EAAaoB,GAC3B,IAAIG,EAAS3B,SAAS4B,cAAc,UAEhCF,EAAMJ,QACPK,EAAOE,MAAQH,EAAMI,GACrBH,EAAOI,UAAY,GAAGL,EAAMM,OAC5BjC,EAAOkC,YAAYN,G,KAGxBO,OAAM,SAASC,GACbC,QAAQC,IAAIF,GACZhC,EAAIK,MAAMC,QAAU,O,IC7B1BJ,EAAOiC,iBAAiB,UDiCjB,WAEH,MAAMC,EAASxC,EAAO8B,MAGtB,OAFA3B,EAAOM,MAAMC,QAAU,OAEhBC,MAAM,wDAAoB6B,KAChC3B,MAAMC,IACH,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,YAG9B,OADEd,EAAOM,MAAMC,QAAU,OAClBI,EAASI,MAAM,IAExBL,MAAMM,IACJ,IAAIsB,EAAS,GACb,IAAK,IAAIhB,EAAI,EAAGA,EAAIN,EAAKO,OAAQD,IAC9BgB,EAAUtB,EAAKM,GAAGD,KAW3B,SAAwBH,EAAKmB,GAC1BE,UAAYrC,EAAasC,MAAK,EAACZ,GAACA,KAAQA,IAAOS,IAC/BvC,SAASC,cAAc,aAC/B8B,UAAY,8DACgBX,WAAaqB,UAAUT,iFAE1BS,UAAUT,gDACXS,UAAUE,gFACgBF,UAAUG,qF,CAhBjEC,CAAeL,EAASD,EAAO,IAEjCL,OAAM,SAASC,GACbC,QAAQC,IAAIF,GACZhC,EAAIK,MAAMC,QAAU,O","sources":["src/js/cat-api.js","src/js/index.js"],"sourcesContent":["const select = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst err = document.querySelector('.error');\n\nexport let storedBreeds = [];\n\nexport function fetchBreeds() {\n    // axios.defaults.baseURL = 'https://api.thecatapi.com/v1';\n    // axios.defaults.headers.common['x-api-key'] = 'live_nwBBH9iYGELMsf7Elhlx9ow0Jh4PNBpfYYumTvhoU32Nk0m5NqDiDomOVKJzKcp1';\n\n\n    let url = `https://api.thecatapi.com/v1/breeds`;\n    const api_key = \"live_nwBBH9iYGELMsf7Elhlx9ow0Jh4PNBpfYYumTvhoU32Nk0m5NqDiDomOVKJzKcp1\";\n    loader.style.display = 'blok';\n   return fetch(url,{headers: {\n         'x-api-key': api_key\n      }})\n   // axios.get('/breeds')\n   .then((response) => {\n      if (!response.ok) {\n         throw new Error(response.statusText);\n      }\n      loader.style.display = 'none';\n      return response.json();\n   })\n   .then((data) => {\n      data = data.filter(img=> img.image?.url!=null)\n   \n      storedBreeds = data;\n\n      for (let i = 0; i < storedBreeds.length; i++) {\n      const breed = storedBreeds[i];\n      let option = document.createElement('option');\n      \n      if(!breed.image)continue\n         option.value = breed.id;\n         option.innerHTML = `${breed.name}`;\n         select.appendChild(option);\n      }\n   })\n   .catch(function(error) {\n      console.log(error);\n      err.style.display = 'block';\n   });\n}\n\nexport function fetchCatByBreed() {   \n    let url = 'https://api.thecatapi.com/v1/images/search';\n    const id_kat = select.value;\n    loader.style.display = 'blok';\n    \n    return fetch(`${url}?breed_ids=${id_kat}`)\n    .then((response) => {\n        if (!response.ok) {\n            throw new Error(response.statusText);\n         }\n         loader.style.display = 'none';\n       return response.json();\n    })\n    .then((data) => {\n       let img_kat ='';\n       for (let i = 0; i < data.length; i++) {\n          img_kat = data[i].url;\n       }\n       \n       showBreedImage(img_kat, id_kat);\n    })\n    .catch(function(error) {\n       console.log(error);\n       err.style.display = 'block';\n    });\n }\n\n function showBreedImage(img, id_kat) { \n    objectKat = storedBreeds.find(({id}) => id === id_kat);\n    const catInfo = document.querySelector(\".cat-info\");\n    catInfo.innerHTML = `<li class='js-cat'>\n                            <img src=\"${img}\" alt=\"${objectKat.name}\">\n                            <div>\n                               <h2>${objectKat.name}</h2>\n                               <p>${objectKat.description}</p>\n                               <p><span>Temperament:</span> ${objectKat.temperament}</p>\n                            </div>\n                         </li>`;\n   \n }\n ","import axios from \"axios\"\nimport {fetchBreeds, fetchCatByBreed} from \"./cat-api.js\";\n\n\nconst select = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst err = document.querySelector('.error');\n\nloader.style.display = 'none';\nerr.style.display = 'none';\n\nfetchBreeds();\n\nselect.addEventListener(\"change\", fetchCatByBreed);\n\n"],"names":["$c4ebbd28ee7007ee$var$select","document","querySelector","$c4ebbd28ee7007ee$var$loader","$c4ebbd28ee7007ee$var$err","$c4ebbd28ee7007ee$export$a30e9b8f7184e25b","$85a5f86b715fe7db$var$select","$85a5f86b715fe7db$var$loader","$85a5f86b715fe7db$var$err","style","display","fetch","headers","then","response","ok","Error","statusText","json","data","filter","img","ref","image","url","i","length","breed","option","createElement","value","id","innerHTML","name","appendChild","catch","error","console","log","addEventListener","id_kat","img_kat","objectKat","find","description","temperament","$c4ebbd28ee7007ee$var$showBreedImage"],"version":3,"file":"index.deebcab6.js.map"}